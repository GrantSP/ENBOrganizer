<controls:MetroWindow x:Class="ENBOrganizer.App.MainView"
                      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                      xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
                      xmlns:views="clr-namespace:ENBOrganizer.App.Views"
                      xmlns:converters="clr-namespace:ENBOrganizer.App.Converters"
                      xmlns:viewModels="clr-namespace:ENBOrganizer.App.ViewModels"
                      Title="ENB Organizer"
                      TitleCaps="False"
                      SizeToContent="WidthAndHeight"
                      DataContext="{Binding Source={StaticResource ViewModelLocator}, Path=MainViewModel, Mode=OneTime}">
    <controls:MetroWindow.Resources>
        <converters:PathToIconConverter x:Key="PathToIconConverter" />

        <DataTemplate DataType="{x:Type viewModels:PresetDetailViewModel}">
            <views:PresetDetailView />
        </DataTemplate>

        <DataTemplate DataType="{x:Type viewModels:PresetsOverviewViewModel}">
            <views:PresetsOverviewView />
        </DataTemplate>

        <DataTemplate DataType="{x:Type viewModels:AddGameViewModel}">
            <views:AddGameView />
        </DataTemplate>

        <DataTemplate DataType="{x:Type viewModels:AddMasterListItemViewModel}">
            <views:AddMasterListItemView />
        </DataTemplate>
    </controls:MetroWindow.Resources>

    <controls:MetroWindow.Flyouts>
        <controls:FlyoutsControl>
            <controls:Flyout Position="Left" AreAnimationsEnabled="True" Header="Add Game" 
                             IsOpen="{Binding IsAddGameFlyoutOpen, Mode=TwoWay}" Theme="Accent">
                <ContentControl Content="{Binding CurrentDialogViewModel}" />
            </controls:Flyout>
        </controls:FlyoutsControl>
    </controls:MetroWindow.Flyouts>

    <Grid Margin="10 0 10 10">
        <controls:MetroAnimatedSingleRowTabControl controls:TabControlHelper.IsUnderlined="True">
            <TabItem Header="Games">
                <views:GamesView />
            </TabItem>
            <TabItem Header="Presets">
                <ContentControl Content="{Binding CurrentPresetViewModel}" />
            </TabItem>
            <TabItem Header="Master List">
                <views:MasterListView />
            </TabItem>
            <TabItem Header="Settings">
                <Button Content="Sup" HorizontalAlignment="Left" VerticalAlignment="Top" />
            </TabItem>
        </controls:MetroAnimatedSingleRowTabControl>
    </Grid>
</controls:MetroWindow>
