<controls:MetroWindow x:Class="ENBOrganizer.App.MainView"
                      xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
                      xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
                      xmlns:controls="http://metro.mahapps.com/winfx/xaml/controls"
                      xmlns:views="clr-namespace:ENBOrganizer.App.Views"
                      xmlns:converters="clr-namespace:ENBOrganizer.App.Converters"
                      xmlns:viewModels="clr-namespace:ENBOrganizer.App.ViewModels"
                      Title="ENB Organizer"
                      TitleCaps="False"
                      MinWidth="640"
                      MinHeight="360"
                      SizeToContent="WidthAndHeight"
                      DataContext="{Binding Source={StaticResource ViewModelLocator}, Path=MainViewModel, Mode=OneTime}">
    <controls:MetroWindow.Resources>
        <converters:PathToIconConverter x:Key="PathToIconConverter" />

        <DataTemplate DataType="{x:Type viewModels:PresetsOverviewViewModel}">
            <views:PresetsOverviewView />
        </DataTemplate>

        <DataTemplate DataType="{x:Type viewModels:AddGameViewModel}">
            <views:AddGameView />
        </DataTemplate>

        <DataTemplate DataType="{x:Type viewModels:AddMasterListItemViewModel}">
            <views:AddMasterListItemView />
        </DataTemplate>

        <DataTemplate DataType="{x:Type viewModels:ImportPresetViewModel}">
            <views:ImportPresetView />
        </DataTemplate>
    </controls:MetroWindow.Resources>

    <controls:MetroWindow.Flyouts>
        <controls:FlyoutsControl>
            <controls:Flyout Position="Left" AreAnimationsEnabled="True" Header="Add" 
                             IsOpen="{Binding IsAddGameFlyoutOpen, Mode=TwoWay}" Theme="Accent">
                <ContentControl Content="{Binding CurrentDialogViewModel, Mode=OneWay}" />
            </controls:Flyout>
        </controls:FlyoutsControl>
    </controls:MetroWindow.Flyouts>

    <Grid>
        <Grid.RowDefinitions>
            <RowDefinition Height="Auto" />
            <RowDefinition />
        </Grid.RowDefinitions>

        <Grid Margin="10 0 10 10" Grid.Row="0">
            <controls:MetroAnimatedSingleRowTabControl controls:TabControlHelper.IsUnderlined="True">
                <TabItem Header="Games">
                    <views:GamesView />
                </TabItem>
                <TabItem Header="Binaries">
                    <views:BinariesView />
                </TabItem>
                <TabItem Header="Presets">
                    <views:PresetsOverviewView />
                </TabItem>
                <TabItem Header="Master List">
                    <views:MasterListView />
                </TabItem>
            </controls:MetroAnimatedSingleRowTabControl>


        </Grid>

        <StatusBar VerticalAlignment="Bottom" Grid.Row="1">
            <StatusBarItem>Current Game:</StatusBarItem>
            <StatusBarItem Content="{Binding GamesViewModel.CurrentGame.Name, Mode=OneWay}" />
            <!--<Separator Style="{StaticResource MetroStatusBarSeparator}" />-->
        </StatusBar>
    </Grid>

</controls:MetroWindow>
